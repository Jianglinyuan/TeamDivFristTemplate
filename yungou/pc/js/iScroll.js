var iScroll=function(b){b=b==undefined?"raff":b;var c=this;var d;this.container=document.getElementById(b+"_container");this.shower=document.getElementById(b+"_shower");this.scroller=document.getElementById(b+"_scroller");this.scroll_bar=document.getElementById(b+"_scroll_bar");this.clearselect=window.getSelection?function(){window.getSelection().removeAllRanges()}:function(){document.selection.empty()};this.is_bottom=function(){return c.shower.offsetTop<=c.container.offsetHeight-c.shower.offsetHeight};this.resetScrollBar=function(){var f=c.shower.offsetTop/(c.shower.offsetHeight-c.container.offsetHeight);var e=c.scroller.offsetHeight-c.scroll_bar.offsetHeight;var g=(0-e*f);c.scroll_bar.style.top=g+"px"};this.resetContentBox=function(){var f=(c.scroll_bar.offsetTop)/(c.scroller.offsetHeight-c.scroll_bar.offsetHeight);var e=c.shower.offsetHeight-c.container.offsetHeight;var g=0-(e*f);c.shower.style.top=g+"px"};this.move=function(e){if(c.shower.offsetTop+e<=0&&c.shower.offsetTop+e>=c.container.offsetHeight-c.shower.offsetHeight){c.shower.style.top=(c.shower.offsetTop+e)+"px"}else{if(c.shower.offsetTop+e>0){c.shower.style.top=0+"px"}else{if(c.shower.offsetTop+e<c.container.offsetHeight-c.shower.offsetHeight){c.shower.style.top=c.container.offsetHeight-c.shower.offsetHeight+"px"}}}c.resetScrollBar()};this.clearTimer=function(){window.clearInterval(d)};this.wheel=function(){var f=arguments[0]||window.event;var a=f.wheelDelta?f.wheelDelta/120:(0-f.detail/3);c.clearTimer();c.move(20*a);try{f.preventDefault()}catch(f){}return false};this.barMove=function(){c.clearselect;var a=this;this.can_move_top=c.scroll_bar.offsetTop;this.can_move_bottom=c.scroller.offsetHeight-c.scroll_bar.offsetTop-c.scroll_bar.offsetHeight;this.e=arguments[0]||window.event;this.starts=this.e.clientY;this.starttop=c.scroll_bar.offsetTop;this.drag=function(){this.e=arguments[0]||window.event;this.ends=this.e.clientY;this.dis=this.ends-a.starts;if(this.dis<(0-a.can_move_top)){this.dis=0-a.can_move_top}if(this.dis>a.can_move_bottom){this.dis=a.can_move_bottom}c.scroll_bar.style.top=(a.starttop+this.dis)+"px";c.resetContentBox();c.clearselect};this.clearDrag=function(){$(document).unbind("mousemove");c.clearselect};this.addScrollListener=function(){$(document).bind("mousemove",a.drag);$(document).bind("mouseup",a.clearDrag)};this.addScrollListener()};this.outBar=function(){var f=arguments[0]||window.event;var a=f.srcElement?f.srcElement:f.target;if(a.id==c.scroller.id){var h=(f&&f.layerY)||window.event.offsetY;var g=h-0.5*c.scroll_bar.offsetHeight;if(h<0.5*c.scroll_bar.offsetHeight){g=0}if(c.scroller.offsetHeight-h<0.5*c.scroll_bar.offsetHeight){g=c.scroller.offsetHeight-c.scroll_bar.offsetHeight}c.scroll_bar.style.top=g+"px";c.resetContentBox()}};this.scroll_bar.ondrag=function(){return false};this.scroll_bar.oncontextmenu=function(){return false};this.scroll_bar.onselectstart=function(){return false};$(this.scroll_bar).bind("mousedown",this.barMove);$(this.scroller).bind("mousedown",this.outBar);$(this.shower).bind("DOMMouseScroll",this.wheel);$(this.scroller).bind("DOMMouseScroll",this.wheel);$(this.shower).bind("mousewheel",this.wheel);$(this.scroller).bind("mousewheel",this.wheel);$(document).bind("mouseup",this.clearTimer)};